<body>

    <!-- for header part -->
    <header>

        <div class="logosec">
            <div class="logo">Cms TasK</div>
            <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210182541/Untitled-design-(30).png"
                class="icn menuicn" id="menuicn" alt="menu-icon">
        </div>

        <div class="searchbar">
            <input type="text" placeholder="Search">
            <div class="searchbtn">
                <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210180758/Untitled-design-(28).png"
                    class="icn srchicn" alt="search-icon">
            </div>
        </div>

        <div class="message">
            <div class="circle"></div>
            <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210183322/8.png" class="icn" alt="">
            <div class="dp">
                <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210180014/profile-removebg-preview.png"
                    class="dpicn" alt="dp">
            </div>
        </div>

    </header>

    <div class="main-container">
        <div class="navcontainer">
            <nav class="nav">
                <div class="nav-upper-options">
                    <div class="nav-option option1">
                        <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210182148/Untitled-design-(29).png"
                            class="nav-img" alt="dashboard">
                        <h3> Dashboard</h3>
                    </div>

                    <div class="option2 nav-option" *ngIf="isAdmin == 'admin'">
                        <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210183322/9.png"
                            class="nav-img" alt="articles">
                        <button type="button" class="button-41" role="button" data-bs-toggle="modal"
                            data-bs-target="#staticBackdrop">
                            Add Products
                        </button>
                        <!-- *ngIf="isAdmin == 'admin'" -->
                    </div>

                    <div class="nav-option option3" *ngIf="isAdmin == 'user'">
                        <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210183320/5.png"
                            class="nav-img" alt="report">
                        <button type="button" role="button" data-bs-toggle="modal" data-bs-target="#staticBackdrop12">
                            <h3 (click)="getInvoices()">Invoice</h3>
                        </button>

                    </div>

                    <div class="nav-option option3" *ngIf="isAdmin == 'admin'">
                        <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210183320/5.png"
                            class="nav-img" alt="report">
                        <button type="button" role="button" data-bs-toggle="modal" data-bs-target="#staticBackdrop13">
                            <h3 (click)=" allInvoiceAdmin()">Invoice</h3>
                        </button>

                    </div>

                    <!-- <div class="nav-option option4">
                        <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210183321/6.png"
                            class="nav-img" alt="institution">
                        <h3> Institution</h3>
                    </div> -->

                    <div class="nav-option option5">
                        <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210183323/10.png"
                            class="nav-img" alt="blog">
                        <h3> Profile</h3>
                    </div>

                    <div class="nav-option option6">
                        <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210183320/4.png"
                            class="nav-img" alt="settings">
                        <h3> Settings</h3>
                    </div>

                    <!-- <div class="nav-option logout">
                        <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210183321/7.png"
                            class="nav-img" alt="logout">
                        <h3>Logout</h3>
                    </div> -->

                </div>
            </nav>
        </div>
        <div class="main">

            <div class="searchbar2">
                <input type="text" name="" id="" placeholder="Search">
                <div class="searchbtn">
                    <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210180758/Untitled-design-(28).png"
                        class="icn srchicn" alt="search-button">
                </div>
            </div>








            <div class="report-container">
                <div class="report-header">
                    <h1 class="recent-Articles">Recent Articles</h1>
                    <button class="view">View All</button>
                </div>
                <div class="report-body">
                    <table class="product-table">
                        <thead>

                            <tr>
                                <th>Product Name</th>
                                <th>Image</th>
                                <th>Description</th>
                                <th>Price</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody *ngFor="let data of productarray " class="product-item">
                            <tr>
                                <td>{{ data.productname }}</td>
                                <td><img [src]=" data.image" alt="Product" />
                                </td>


                                <td>{{ data.description
                                    }}</td>
                                <td>{{ data.price }}</td>
                                <td><button class="view-details-btn" (click)="nextPagePurchage(data._id)"
                                        *ngIf="isAdmin == 'user'">View
                                        Details</button>
                                </td>
                                <td><button class="view-details-btn" (click)="UpdtesData(data._id)"
                                        data-bs-toggle="modal" data-bs-target="#staticBackdrop"
                                        *ngIf="isAdmin == 'admin'">Edit
                                    </button>
                                </td>
                                <td> <button class="delete-button" (click)="deleteProduct(data._id)"
                                        *ngIf="isAdmin == 'admin'">Delete</button>
                                </td>
                            </tr>
                        </tbody>

                    </table>
                </div>
            </div>
        </div>
    </div>


</body>





<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">Enter Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                    (click)="onRest()"></button>
            </div>
            <form [formGroup]="productForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="productName">Product Name</label>
                        <input type="text" id="productName" formControlName="productname" class="form-control">
                    </div>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="descriptionInput">Description</label>
                        <input type="text" id="descriptionInput" formControlName="description" class="form-control">
                    </div>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="priceInput">Price</label>
                        <input type="text" id="priceInput" formControlName="price" class="form-control">
                    </div>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="imageInput">Upload Image:</label>
                        <!-- <input type="file" id="imageInput" formControlName="image" (change)="onFileChange($event)"
                            class="form-control"> -->
                        <input type="file" id="imageInput" formControlName="image" (change)="onFileChange($event)"
                            class="form-control" *ngIf="!imagePreview">
                        <img [src]="imagePreview" alt="Product Image" *ngIf="imagePreview"
                            (change)="onFileChange($event)">









                    </div>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="seriesNumberInput">Series Number</label>
                        <input type="text" id="seriesNumberInput" formControlName="seriesnumber" class="form-control">
                    </div>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="quantityInput">Quantity</label>
                        <input type="text" id="quantityInput" formControlName="quantity" class="form-control">
                    </div>
                </div>

                <!-- <div class="modal-foot">
                    <button type="submit" class="button-76" role="button" data-bs-dismiss="modal"
                        (click)="addproducts()" *ngIf="!formId && !submitFlag" (click)="onRest()">Add
                        Product </button>
                </div> -->
                <div class="modal-foot">
                    <button type="submit" class="button-76" role="button" data-bs-dismiss="modal"
                        (click)="addproducts()" *ngIf="!formId" (click)="onRest()  ">Add Product</button>
                    <button type="submit" class="button-76" role="button" data-bs-dismiss="modal"
                        (click)="editProduct()" *ngIf="formId " (click)="onRest()  ">Update Product</button>
                </div>


            </form>
        </div>
    </div>
</div>



<!-- invoicess -->


<div class="modal fade" id="staticBackdrop12" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">Invoice Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <ng-container *ngFor="let innerArray of invoiceArray">
                    <div class="invoice-group" *ngFor="let data of innerArray">
                        <div class="invoice-item">
                            <label>firstname:</label>
                            <h1>{{ data.firstname}}</h1>
                        </div>
                        <div class="invoice-item">
                            <label>lastname:</label>
                            <h1>{{ data.lastname }}</h1>
                        </div>
                        <div class="invoice-item">
                            <label>Address:</label>
                            <h1>{{ data.addresss }}</h1>
                        </div>
                        <div class="invoice-item">
                            <label>City:</label>
                            <h1>{{ data.city }}</h1>
                        </div>
                        <div class="invoice-item">
                            <label>pincode:</label>
                            <h1>{{ data.pincode }}</h1>
                        </div>
                        <div class="invoice-item">
                            <label>description:</label>
                            <h1>{{ data.productID.description
                                }}</h1>
                        </div>
                        <div class="invoice-item">
                            <label>prices:</label>
                            <h1>{{ data.productID.price
                                }}</h1>
                        </div>
                        <div class="invoice-item">
                            <label>productname:</label>
                            <h1>{{ data.productID.productname
                                }}</h1>
                        </div>
                    </div>
                </ng-container>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="staticBackdrop13" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">Invoice Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- <ng-container *ngFor="let innerArray of invoiceArrayAdim"> -->
                <div class="invoice-group" *ngFor="let data of invoiceArrayAdim">
                    <div class=" invoice-item">
                        <label>firstname:</label>
                        <h1>{{ data.firstname}}</h1>
                    </div>
                    <div class="invoice-item">
                        <label>lastname:</label>
                        <h1>{{ data.lastname }}</h1>
                    </div>
                    <div class="invoice-item">
                        <label>Address:</label>
                        <h1>{{ data.addresss }}</h1>
                    </div>
                    <div class="invoice-item">
                        <label>City:</label>
                        <h1>{{ data.city }}</h1>
                    </div>
                    <div class="invoice-item">
                        <label>pincode:</label>
                        <h1>{{ data.pincode }}</h1>
                    </div>
                    <div class="invoice-item">
                        <label>description:</label>
                        <h1>{{ data.productID.description
                            }}</h1>
                    </div>
                    <div class="invoice-item">
                        <label>prices:</label>
                        <h1>{{ data.productID.price
                            }}</h1>
                    </div>
                    <div class="invoice-item">
                        <label>productname:</label>
                        <h1>{{ data.productID.productname
                            }}</h1>
                    </div>
                </div>
                <!-- </ng-container> -->
            </div>
        </div>
    </div>
</div>